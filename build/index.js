(()=>{"use strict";var e,t={849:(e,t,r)=>{const o=window.wp.blocks,n=window.React,i=window.wp.element,l=window.wp.i18n,a=window.wp.apiFetch;var s=r.n(a);const c=JSON.parse('{"u2":"buytiti/buytitibuenfin"}');(0,o.registerBlockType)(c.u2,{edit:()=>{const[e,t]=(0,i.useState)([]);return(0,i.useEffect)((()=>{console.log("Obteniendo ID de la categoría..."),s()({path:"/wc/store/products/categories?slug=bocinas"}).then((e=>{const r=e[0]?.id;r?(console.log("ID de la categoría obtenido:",r),console.log("Obteniendo productos..."),s()({path:`/wc/store/products?category=${r}`}).then((e=>{console.log("Productos obtenidos:",e),t(e)}))):console.error("No se pudo obtener el ID de la categoría.")}))}),[]),(0,n.createElement)("div",{style:{width:"100%"}},e?e.length>0?(0,n.createElement)("ul",{style:{listStyle:"none",padding:0,display:"flex",flexWrap:"nowrap",overflowX:"auto"}},e.map((e=>{return(0,n.createElement)("li",{key:e.id,style:{boxSizing:"border-box",flex:"0 0 20%",maxWidth:"20%",marginBottom:"20px"}},(0,n.createElement)("div",{style:{position:"relative"}},(0,n.createElement)("img",{src:(t=e.images[0],t&&t.src?t.src.replace(/-\d+x\d+/,""):null),alt:e.name,style:{width:"100%"}}),e.prices&&e.prices.sale_price&&(0,n.createElement)("span",{style:{position:"absolute",top:0,right:0,backgroundColor:"red",color:"white",padding:"5px",borderRadius:"5px",fontSize:"0.8em"}},"Oferta")),(0,n.createElement)("div",null,(0,n.createElement)("h3",null,e.name),(e=>{if(e.prices){const{regular_price:t,sale_price:r}=e.prices,o=e=>(parseFloat(e)/100).toLocaleString("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2});if(r)return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{style:{position:"absolute",top:0,right:0,backgroundColor:"red",color:"white",padding:"5px",borderRadius:"5px",fontSize:"0.8em"}},"Oferta"),(0,n.createElement)("div",{style:{textDecoration:"line-through",fontSize:"0.8em",marginRight:"5px"}},o(t)),o(r));if(t)return o(t)}return"Precio no disponible"})(e)));var t}))):(0,n.createElement)("p",null,(0,l.__)("Cargando Productos","mi-plugin")):(0,n.createElement)("p",null,(0,l.__)("Cargando productos...","mi-plugin")))},save:({attributes:e})=>{const{productos:t}=e;return(0,n.createElement)("div",{style:{width:"100%"}},t?t.length>0?(0,n.createElement)("ul",{style:{listStyle:"none",padding:0,display:"flex",flexWrap:"nowrap",overflowX:"auto"}},t.map((e=>(0,n.createElement)("li",{key:e.id,style:{boxSizing:"border-box",flex:"0 0 20%",maxWidth:"20%",marginBottom:"20px"}})))):(0,n.createElement)("p",null,(0,l.__)("Cargando Productos","mi-plugin")):(0,n.createElement)("p",null,(0,l.__)("Cargando productos...","mi-plugin")))}})}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,r,n,i)=>{if(!r){var l=1/0;for(d=0;d<e.length;d++){for(var[r,n,i]=e[d],a=!0,s=0;s<r.length;s++)(!1&i||l>=i)&&Object.keys(o.O).every((e=>o.O[e](r[s])))?r.splice(s--,1):(a=!1,i<l&&(l=i));if(a){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,n,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,i,[l,a,s]=r,c=0;if(l.some((t=>0!==e[t]))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(s)var d=s(o)}for(t&&t(r);c<l.length;c++)i=l[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},r=globalThis.webpackChunkbuytitibuenfin=globalThis.webpackChunkbuytitibuenfin||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=o.O(void 0,[431],(()=>o(849)));n=o.O(n)})();